<script setup lang="ts">
import { ref } from 'vue'
import { Accordion, AccordionItem } from '@/modules/Accordion'
import ComponentShowcase from '@/shared/components/layout/ComponentShowcase.vue'
import CodeBlock from '@/shared/components/layout/CodeBlock.vue'

// Estados para os showcases
const faqItems = ref<(string | number)[]>(['faq-1'])
const settingsItems = ref<(string | number)[]>([])
const productItems = ref<(string | number)[]>(['specs'])
</script>

<template>
    <div class="accordion-view">
        <h1>Accordion Component</h1>
        <p class="subtitle">Componente expans√≠vel para organizar conte√∫do em se√ß√µes colaps√°veis.</p>

        <!-- SHOWCASE 1: FAQ -->
        <ComponentShowcase title="Exemplo 1: FAQ - Perguntas Frequentes"
            description="Accordion com m√∫ltiplos items expans√≠veis simultaneamente">
            <template #preview>
                <Accordion v-model="faqItems" variant="default" :multiple="true">
                    <AccordionItem id="faq-1" title="Como instalar a biblioteca?" icon="üì¶">
                        <p>Para instalar a biblioteca, use o npm ou yarn:</p>
                        <pre
                            style="background: var(--color-bg-secondary); padding: 1rem; border-radius: var(--radius-sm); margin-top: 0.5rem;">npm install @lugand/vue-ui-lib</pre>
                        <p style="margin-top: 0.5rem;">Depois importe os componentes que precisar no seu projeto Vue 3.
                        </p>
                    </AccordionItem>

                    <AccordionItem id="faq-2" title="Quais navegadores s√£o suportados?" icon="üåê">
                        <p>A biblioteca suporta todos os navegadores modernos:</p>
                        <ul style="margin-top: 0.5rem; padding-left: 1.5rem;">
                            <li>Chrome 90+</li>
                            <li>Firefox 88+</li>
                            <li>Safari 14+</li>
                            <li>Edge 90+</li>
                        </ul>
                        <p style="margin-top: 0.5rem;">N√£o h√° suporte para Internet Explorer.</p>
                    </AccordionItem>

                    <AccordionItem id="faq-3" title="A biblioteca √© gratuita?" icon="üí∞">
                        <p>Sim! A biblioteca √© 100% gratuita e open-source sob licen√ßa MIT.</p>
                        <p style="margin-top: 0.5rem;">Voc√™ pode usar em projetos pessoais e comerciais sem custo.</p>
                    </AccordionItem>

                    <AccordionItem id="faq-4" title="Preciso de conhecimento em TypeScript?" icon="üìò">
                        <p>N√£o √© obrigat√≥rio, mas recomendado! A biblioteca oferece:</p>
                        <ul style="margin-top: 0.5rem; padding-left: 1.5rem;">
                            <li>‚úÖ Tipagem completa em TypeScript</li>
                            <li>‚úÖ Intellisense no VS Code</li>
                            <li>‚úÖ Autocomplete de props</li>
                            <li>‚úÖ Valida√ß√£o de tipos em tempo de desenvolvimento</li>
                        </ul>
                        <p style="margin-top: 0.5rem;">Mas voc√™ pode usar com JavaScript puro tamb√©m!</p>
                    </AccordionItem>

                    <AccordionItem id="faq-5" title="Como reportar bugs?" icon="üêõ">
                        <p>Para reportar bugs, abra uma issue no GitHub:</p>
                        <ol style="margin-top: 0.5rem; padding-left: 1.5rem;">
                            <li>Acesse o reposit√≥rio no GitHub</li>
                            <li>Clique em "Issues" ‚Üí "New Issue"</li>
                            <li>Descreva o problema com detalhes</li>
                            <li>Inclua c√≥digo de exemplo, se poss√≠vel</li>
                        </ol>
                    </AccordionItem>
                </Accordion>
            </template>

            <template #code>
                <CodeBlock language="vue" :code="`<script setup>
import { ref } from 'vue'
import { Accordion, AccordionItem } from '@lugand/vue-ui-lib'

const activeItems = ref(['faq-1'])
&lt;/script&gt;

<template>
  <Accordion v-model=&quot;activeItems&quot; :multiple=&quot;true&quot;>
    <AccordionItem id=&quot;faq-1&quot; title=&quot;Como instalar?&quot; icon=&quot;üì¶&quot;>
      <p>Para instalar...</p>
    </AccordionItem>
    
    <AccordionItem id=&quot;faq-2&quot; title=&quot;Navegadores?&quot; icon=&quot;üåê&quot;>
      <p>Suporta navegadores modernos...</p>
    </AccordionItem>
  </Accordion>
</template>`" />
            </template>
        </ComponentShowcase>

        <!-- SHOWCASE 2: Configura√ß√µes -->
        <ComponentShowcase title="Exemplo 2: Painel de Configura√ß√µes"
            description="Accordion com modo single (apenas um aberto por vez) e variante bordered">
            <template #preview>
                <Accordion v-model="settingsItems" variant="bordered" :multiple="false" size="lg">
                    <AccordionItem id="profile" title="Perfil" icon="üë§">
                        <form style="display: grid; gap: 1rem;">
                            <div>
                                <label>Nome Completo</label>
                                <input type="text" placeholder="Jo√£o Silva" style="width: 100%;" />
                            </div>
                            <div>
                                <label>Email</label>
                                <input type="email" placeholder="joao@exemplo.com" style="width: 100%;" />
                            </div>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                                <div>
                                    <label>Telefone</label>
                                    <input type="tel" placeholder="(11) 98765-4321" style="width: 100%;" />
                                </div>
                                <div>
                                    <label>Data de Nascimento</label>
                                    <input type="date" style="width: 100%;" />
                                </div>
                            </div>
                        </form>
                    </AccordionItem>

                    <AccordionItem id="security" title="Seguran√ßa" icon="üîí">
                        <form style="display: grid; gap: 1rem;">
                            <div>
                                <label>Senha Atual</label>
                                <input type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" style="width: 100%;" />
                            </div>
                            <div>
                                <label>Nova Senha</label>
                                <input type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" style="width: 100%;" />
                            </div>
                            <div>
                                <label>Confirmar Nova Senha</label>
                                <input type="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" style="width: 100%;" />
                            </div>
                            <div style="margin-top: 0.5rem;">
                                <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
                                    <input type="checkbox" />
                                    Ativar autentica√ß√£o de dois fatores (2FA)
                                </label>
                            </div>
                        </form>
                    </AccordionItem>

                    <AccordionItem id="notifications" title="Notifica√ß√µes" icon="üîî">
                        <div style="display: grid; gap: 1rem;">
                            <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
                                <input type="checkbox" checked />
                                Notifica√ß√µes por email
                            </label>
                            <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
                                <input type="checkbox" checked />
                                Notifica√ß√µes push no navegador
                            </label>
                            <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
                                <input type="checkbox" />
                                Newsletter semanal
                            </label>
                            <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
                                <input type="checkbox" checked />
                                Alertas de seguran√ßa
                            </label>
                        </div>
                    </AccordionItem>

                    <AccordionItem id="privacy" title="Privacidade" icon="üõ°Ô∏è">
                        <div style="display: grid; gap: 1rem;">
                            <div>
                                <h4 style="margin-bottom: 0.5rem;">Visibilidade do Perfil</h4>
                                <select style="width: 100%;">
                                    <option>P√∫blico</option>
                                    <option selected>Apenas Amigos</option>
                                    <option>Privado</option>
                                </select>
                            </div>
                            <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
                                <input type="checkbox" />
                                Permitir indexa√ß√£o por motores de busca
                            </label>
                            <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
                                <input type="checkbox" checked />
                                Ocultar meu status online
                            </label>
                        </div>
                    </AccordionItem>
                </Accordion>
            </template>

            <template #code>
                <CodeBlock language="vue" :code="`<Accordion 
  v-model=&quot;activeItems&quot; 
  variant=&quot;bordered&quot; 
  :multiple=&quot;false&quot;
  size=&quot;lg&quot;
>
  <AccordionItem id=&quot;profile&quot; title=&quot;Perfil&quot; icon=&quot;üë§&quot;>
    <!-- Formul√°rio -->
  </AccordionItem>
  
  <AccordionItem id=&quot;security&quot; title=&quot;Seguran√ßa&quot; icon=&quot;üîí&quot;>
    <!-- Configura√ß√µes -->
  </AccordionItem>
</Accordion>`" />
            </template>
        </ComponentShowcase>

        <!-- SHOWCASE 3: Especifica√ß√µes -->
        <ComponentShowcase title="Exemplo 3: Especifica√ß√µes do Produto"
            description="Accordion com variante separated e conte√∫do rico estruturado">
            <template #preview>
                <Accordion v-model="productItems" variant="separated" :multiple="true">
                    <AccordionItem id="specs" title="Especifica√ß√µes T√©cnicas" icon="‚ö°">
                        <table style="width: 100%; border-collapse: collapse;">
                            <tbody>
                                <tr style="border-bottom: 1px solid var(--color-border-primary);">
                                    <td style="padding: 0.5rem; font-weight: 500;">Processador</td>
                                    <td style="padding: 0.5rem; color: var(--color-text-secondary);">Intel Core
                                        i7-12700H</td>
                                </tr>
                                <tr style="border-bottom: 1px solid var(--color-border-primary);">
                                    <td style="padding: 0.5rem; font-weight: 500;">Mem√≥ria RAM</td>
                                    <td style="padding: 0.5rem; color: var(--color-text-secondary);">32GB DDR5</td>
                                </tr>
                                <tr style="border-bottom: 1px solid var(--color-border-primary);">
                                    <td style="padding: 0.5rem; font-weight: 500;">Armazenamento</td>
                                    <td style="padding: 0.5rem; color: var(--color-text-secondary);">1TB NVMe SSD</td>
                                </tr>
                                <tr style="border-bottom: 1px solid var(--color-border-primary);">
                                    <td style="padding: 0.5rem; font-weight: 500;">Placa de V√≠deo</td>
                                    <td style="padding: 0.5rem; color: var(--color-text-secondary);">NVIDIA RTX 4060
                                    </td>
                                </tr>
                                <tr>
                                    <td style="padding: 0.5rem; font-weight: 500;">Sistema</td>
                                    <td style="padding: 0.5rem; color: var(--color-text-secondary);">Windows 11 Pro</td>
                                </tr>
                            </tbody>
                        </table>
                    </AccordionItem>

                    <AccordionItem id="display" title="Tela e Conectividade" icon="üñ•Ô∏è">
                        <div style="display: grid; gap: 1rem;">
                            <div>
                                <h4 style="margin-bottom: 0.5rem;">Display</h4>
                                <ul style="padding-left: 1.5rem; color: var(--color-text-secondary);">
                                    <li>15.6" Full HD (1920x1080)</li>
                                    <li>IPS, 144Hz, antirreflexo</li>
                                    <li>100% sRGB, 300 nits</li>
                                </ul>
                            </div>
                            <div>
                                <h4 style="margin-bottom: 0.5rem;">Conectividade</h4>
                                <ul style="padding-left: 1.5rem; color: var(--color-text-secondary);">
                                    <li>3x USB-A 3.2, 2x USB-C TB4</li>
                                    <li>HDMI 2.1, DisplayPort</li>
                                    <li>Wi-Fi 6E, Bluetooth 5.2</li>
                                </ul>
                            </div>
                        </div>
                    </AccordionItem>

                    <AccordionItem id="dimensions" title="Dimens√µes e Peso" icon="üìè">
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem;">
                            <div>
                                <h4 style="margin-bottom: 0.5rem;">Dimens√µes</h4>
                                <p style="color: var(--color-text-secondary);">
                                    <strong>Largura:</strong> 357 mm<br>
                                    <strong>Profundidade:</strong> 249 mm<br>
                                    <strong>Altura:</strong> 23.9 mm
                                </p>
                            </div>
                            <div>
                                <h4 style="margin-bottom: 0.5rem;">Peso</h4>
                                <p style="color: var(--color-text-secondary);">
                                    <strong>Peso l√≠quido:</strong> 2.1 kg<br>
                                    <strong>Com carregador:</strong> 2.6 kg
                                </p>
                            </div>
                        </div>
                    </AccordionItem>

                    <AccordionItem id="warranty" title="Garantia e Suporte" icon="üõ†Ô∏è">
                        <div
                            style="background: var(--color-success-light); padding: 1rem; border-radius: var(--radius-md); margin-bottom: 1rem;">
                            <strong style="color: var(--color-success-dark);">‚úÖ Garantia de 2 anos</strong>
                        </div>
                        <p>Inclui:</p>
                        <ul style="margin-top: 0.5rem; padding-left: 1.5rem; color: var(--color-text-secondary);">
                            <li>Suporte t√©cnico 24/7</li>
                            <li>Troca em at√© 7 dias</li>
                            <li>Assist√™ncia t√©cnica em todo Brasil</li>
                        </ul>
                    </AccordionItem>
                </Accordion>
            </template>

            <template #code>
                <CodeBlock language="vue" :code="`<Accordion 
  v-model=&quot;activeItems&quot; 
  variant=&quot;separated&quot;
  :multiple=&quot;true&quot;
>
  <AccordionItem id=&quot;specs&quot; title=&quot;Especifica√ß√µes&quot; icon=&quot;‚ö°&quot;>
    <table><!-- Conte√∫do --></table>
  </AccordionItem>
</Accordion>`" />
            </template>
        </ComponentShowcase>

        <!-- SHOWCASE 4: Variantes -->
        <ComponentShowcase title="Exemplo 4: Variantes de Estilo" description="Diferentes estilos visuais do Accordion">
            <template #preview>
                <div style="display: grid; gap: 2rem;">
                    <div>
                        <h3 style="margin-bottom: 1rem;">Default</h3>
                        <Accordion variant="default">
                            <AccordionItem id="d1" title="Item 1">Conte√∫do do item 1</AccordionItem>
                            <AccordionItem id="d2" title="Item 2">Conte√∫do do item 2</AccordionItem>
                            <AccordionItem id="d3" title="Item 3">Conte√∫do do item 3</AccordionItem>
                        </Accordion>
                    </div>

                    <div>
                        <h3 style="margin-bottom: 1rem;">Bordered</h3>
                        <Accordion variant="bordered">
                            <AccordionItem id="b1" title="Item 1">Conte√∫do do item 1</AccordionItem>
                            <AccordionItem id="b2" title="Item 2">Conte√∫do do item 2</AccordionItem>
                            <AccordionItem id="b3" title="Item 3">Conte√∫do do item 3</AccordionItem>
                        </Accordion>
                    </div>

                    <div>
                        <h3 style="margin-bottom: 1rem;">Separated</h3>
                        <Accordion variant="separated">
                            <AccordionItem id="s1" title="Item 1">Conte√∫do do item 1</AccordionItem>
                            <AccordionItem id="s2" title="Item 2">Conte√∫do do item 2</AccordionItem>
                            <AccordionItem id="s3" title="Item 3">Conte√∫do do item 3</AccordionItem>
                        </Accordion>
                    </div>

                    <div>
                        <h3 style="margin-bottom: 1rem;">Filled</h3>
                        <Accordion variant="filled">
                            <AccordionItem id="f1" title="Item 1">Conte√∫do do item 1</AccordionItem>
                            <AccordionItem id="f2" title="Item 2">Conte√∫do do item 2</AccordionItem>
                            <AccordionItem id="f3" title="Item 3">Conte√∫do do item 3</AccordionItem>
                        </Accordion>
                    </div>
                </div>
            </template>

            <template #code>
                <CodeBlock language="vue" :code="`<!-- Default -->
<Accordion variant=&quot;default&quot;>...</Accordion>

<!-- Bordered -->
<Accordion variant=&quot;bordered&quot;>...</Accordion>

<!-- Separated -->
<Accordion variant=&quot;separated&quot;>...</Accordion>

<!-- Filled -->
<Accordion variant=&quot;filled&quot;>...</Accordion>`" />
            </template>
        </ComponentShowcase>
    </div>
</template>

<style scoped>
.accordion-view {
    h1 {
        font-size: var(--font-size-3xl);
        color: var(--color-text-primary);
        margin-bottom: var(--spacing-sm);
    }

    .subtitle {
        font-size: var(--font-size-lg);
        color: var(--color-text-secondary);
        margin-bottom: var(--spacing-2xl);
    }
}
</style>
