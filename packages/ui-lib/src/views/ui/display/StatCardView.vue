<template>
    <div class="stat-card-view">
        <div class="header">
            <h1>StatCard</h1>
            <p class="lead">Componente especializado para exibir estatÃ­sticas e KPIs em dashboards.</p>
        </div>

        <!-- 1. BÃSICO -->
        <ComponentShowcase title="Uso BÃ¡sico" description="StatCard com valor, label e Ã­cone.">
            <template #preview>
                <div
                    style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: var(--spacing-lg);">
                    <StatCard :value="12548" label="Vendas Totais" icon="ðŸ’°" />
                    <StatCard :value="1234" label="Clientes Ativos" icon="ðŸ‘¥" />
                    <StatCard value="98.5%" label="Taxa de AprovaÃ§Ã£o" icon="âœ…" />
                    <StatCard :value="42" label="Pedidos Pendentes" icon="ðŸ“¦" />
                </div>
            </template>

            <template #code>
                <CodeBlock :code="`<StatCard 
  :value='12548' 
  label='Vendas Totais' 
  icon='ðŸ’°' 
/>

<StatCard 
  :value='1234' 
  label='Clientes Ativos' 
  icon='ðŸ‘¥' 
/>

<StatCard 
  value='98.5%' 
  label='Taxa de AprovaÃ§Ã£o' 
  icon='âœ…' 
/>`" />
            </template>
        </ComponentShowcase>

        <!-- 2. TAMANHOS -->
        <ComponentShowcase title="Tamanhos" description="TrÃªs tamanhos disponÃ­veis: sm, md (padrÃ£o), lg.">
            <template #preview>
                <div style="display: grid; gap: var(--spacing-lg);">
                    <StatCard size="sm" :value="250" label="Pequeno" icon="ðŸ“Š" description="Size: sm" />
                    <StatCard size="md" :value="5420" label="MÃ©dio (padrÃ£o)" icon="ðŸ“ˆ" description="Size: md" />
                    <StatCard size="lg" :value="89750" label="Grande" icon="ðŸ’Ž" description="Size: lg" />
                </div>
            </template>

            <template #code>
                <CodeBlock :code="`<StatCard size='sm' :value='250' label='Pequeno' icon='ðŸ“Š' />
<StatCard size='md' :value='5420' label='MÃ©dio' icon='ðŸ“ˆ' />
<StatCard size='lg' :value='89750' label='Grande' icon='ðŸ’Ž' />`" />
            </template>
        </ComponentShowcase>

        <!-- 3. VARIANTES -->
        <ComponentShowcase title="Variantes (cores do Ã­cone)"
            description="Seis variantes que afetam a cor do Ã­cone e fundo.">
            <template #preview>
                <div
                    style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--spacing-lg);">
                    <StatCard variant="default" :value="1234" label="Default" icon="ðŸ“Š" />
                    <StatCard variant="primary" :value="5678" label="Primary" icon="ðŸŽ¯" />
                    <StatCard variant="success" :value="9012" label="Success" icon="âœ…" />
                    <StatCard variant="warning" :value="345" label="Warning" icon="âš ï¸" />
                    <StatCard variant="error" :value="67" label="Error" icon="âŒ" />
                    <StatCard variant="info" :value="890" label="Info" icon="â„¹ï¸" />
                </div>
            </template>

            <template #code>
                <CodeBlock :code="`<StatCard variant='default' :value='1234' label='Default' icon='ðŸ“Š' />
<StatCard variant='primary' :value='5678' label='Primary' icon='ðŸŽ¯' />
<StatCard variant='success' :value='9012' label='Success' icon='âœ…' />
<StatCard variant='warning' :value='345' label='Warning' icon='âš ï¸' />
<StatCard variant='error' :value='67' label='Error' icon='âŒ' />
<StatCard variant='info' :value='890' label='Info' icon='â„¹ï¸' />`" />
            </template>
        </ComponentShowcase>

        <!-- 4. COM TENDÃŠNCIA -->
        <ComponentShowcase title="Com TendÃªncia" description="Exiba mudanÃ§as com trend (up/down/neutral).">
            <template #preview>
                <div
                    style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: var(--spacing-lg);">
                    <StatCard variant="success" :value="15420" label="Receita Mensal" icon="ðŸ’°" trend="up"
                        trend-value="+12.5%" trend-label="vs. mÃªs anterior" />

                    <StatCard variant="error" :value="248" label="Tickets Abertos" icon="ðŸŽ«" trend="down"
                        trend-value="-8%" trend-label="vs. semana anterior" />

                    <StatCard variant="primary" :value="3250" label="Visitas" icon="ðŸ‘€" trend="neutral" trend-value="0%"
                        trend-label="sem mudanÃ§as" />

                    <StatCard variant="warning" :value="42" label="Pedidos Pendentes" icon="ðŸ“¦" trend="up"
                        trend-value="+5" trend-label="Ãºltimas 24h" />
                </div>
            </template>

            <template #code>
                <CodeBlock :code="`<!-- Crescimento -->
<StatCard 
  variant='success'
  :value='15420' 
  label='Receita Mensal' 
  icon='ðŸ’°'
  trend='up'
  trend-value='+12.5%'
  trend-label='vs. mÃªs anterior'
/>

<!-- Queda -->
<StatCard 
  variant='error'
  :value='248' 
  label='Tickets Abertos'
  trend='down'
  trend-value='-8%'
/>

<!-- Neutral -->
<StatCard 
  trend='neutral'
  trend-value='0%'
  trend-label='sem mudanÃ§as'
/>`" />
            </template>
        </ComponentShowcase>

        <!-- 5. COM DESCRIÃ‡ÃƒO -->
        <ComponentShowcase title="Com DescriÃ§Ã£o" description="Adicione contexto extra com a prop description.">
            <template #preview>
                <div
                    style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: var(--spacing-lg);">
                    <StatCard variant="primary" :value="89.7" label="NPS Score" icon="â­"
                        description="Net Promoter Score do Ãºltimo trimestre" trend="up" trend-value="+3.2" />

                    <StatCard variant="success" value="4.8/5" label="AvaliaÃ§Ã£o MÃ©dia" icon="ðŸŒŸ"
                        description="Baseado em 1.250 avaliaÃ§Ãµes" />

                    <StatCard variant="info" :value="24567" label="Downloads" icon="â¬‡ï¸"
                        description="Total acumulado desde o lanÃ§amento" trend="up" trend-value="+450"
                        trend-label="esta semana" />
                </div>
            </template>

            <template #code>
                <CodeBlock :code="`<StatCard 
  variant='primary'
  :value='89.7' 
  label='NPS Score' 
  icon='â­'
  description='Net Promoter Score do Ãºltimo trimestre'
  trend='up'
  trend-value='+3.2'
/>`" />
            </template>
        </ComponentShowcase>

        <!-- 6. COM CARD VARIANT -->
        <ComponentShowcase title="Variantes de Card" description="Controle o estilo do Card wrapper com cardVariant.">
            <template #preview>
                <div style="display: grid; gap: var(--spacing-lg);">
                    <StatCard card-variant="default" :value="1234" label="Default Card" icon="ðŸ“Š" />
                    <StatCard card-variant="outline" :value="5678" label="Outline Card" icon="ðŸ“ˆ" />
                    <StatCard card-variant="ghost" :value="9012" label="Ghost Card" icon="ðŸ’¡" />
                    <StatCard card-variant="flat" :value="3456" label="Flat Card" icon="ðŸŽ¯" />
                </div>
            </template>

            <template #code>
                <CodeBlock :code="`<StatCard card-variant='default' :value='1234' label='Default' />
<StatCard card-variant='outline' :value='5678' label='Outline' />
<StatCard card-variant='ghost' :value='9012' label='Ghost' />
<StatCard card-variant='flat' :value='3456' label='Flat' />`" />
            </template>
        </ComponentShowcase>

        <!-- 7. COM SLOTS CUSTOMIZADOS -->
        <ComponentShowcase title="Slots Customizados" description="Customize Ã­cone, label, valor, descriÃ§Ã£o e aÃ§Ãµes.">
            <template #preview>
                <div style="display: grid; gap: var(--spacing-lg);">
                    <!-- Custom icon slot -->
                    <StatCard :value="1234" label="Vendas">
                        <template #icon>
                            <div
                                style="width: 48px; height: 48px; border-radius: 50%; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); display: flex; align-items: center; justify-content: center; color: white;">
                                ðŸ’°
                            </div>
                        </template>
                    </StatCard>

                    <!-- Custom value slot -->
                    <StatCard value="75" label="Progresso">
                        <template #value>
                            <div style="display: flex; align-items: center; gap: var(--spacing-sm);">
                                <span style="font-size: 2rem; font-weight: 700;">75%</span>
                                <Badge variant="success">Ativo</Badge>
                            </div>
                        </template>
                    </StatCard>

                    <!-- Custom actions slot -->
                    <StatCard variant="primary" :value="5678" label="RelatÃ³rio Mensal" icon="ðŸ“Š">
                        <template #actions>
                            <Button variant="ghost" size="sm">
                                Ver
                            </Button>
                        </template>
                    </StatCard>

                    <!-- Multiple slots -->
                    <StatCard value="18.5" label="Taxa de ConversÃ£o">
                        <template #icon>
                            <div
                                style="width: 48px; height: 48px; border-radius: var(--radius-md); background: var(--color-success-bg); display: flex; align-items: center; justify-content: center; font-size: 1.5rem;">
                                ðŸŽ¯
                            </div>
                        </template>
                        <template #value>
                            <div>
                                <div style="font-size: 2rem; font-weight: 700; color: var(--color-success);">
                                    18.5%
                                </div>
                                <div style="font-size: 0.75rem; color: var(--color-text-tertiary); margin-top: 2px;">
                                    Meta: 15%
                                </div>
                            </div>
                        </template>
                        <template #description>
                            <Badge variant="success" size="sm">Acima da meta</Badge>
                        </template>
                    </StatCard>
                </div>
            </template>

            <template #code>
                <CodeBlock :code="`<!-- Custom icon -->
<StatCard :value='1234' label='Vendas'>
  <template #icon>
    <div style='...gradient...'>ðŸ’°</div>
  </template>
    </StatCard>

    <!-- Custom value -->
    <StatCard label='Progresso'>
        <template #value>
    <span>75%</span>
    <Badge variant='success'>Ativo</Badge>
  </template>
    </StatCard>

    <!-- Custom actions -->
    <StatCard :value='5678' label='RelatÃ³rio'>
        <template #actions>
    <Button size='sm' @click='viewReport'>Ver</Button>
  </template>
    </StatCard>`" />
            </template>
        </ComponentShowcase>

        <!-- 8. DASHBOARD COMPLETO -->
        <ComponentShowcase title="Exemplo: Dashboard Completo" description="Grid responsivo com mÃºltiplos StatCards.">
            <template #preview>
                <div
                    style="display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: var(--spacing-lg);">
                    <StatCard variant="primary" :value="24567" label="UsuÃ¡rios Totais" icon="ðŸ‘¥" trend="up"
                        trend-value="+12%" trend-label="vs. mÃªs anterior" />

                    <StatCard variant="success" value="R$ 145.280" label="Receita" icon="ðŸ’°" trend="up"
                        trend-value="+8.5%" trend-label="vs. mÃªs anterior" />

                    <StatCard variant="info" :value="1850" label="Novos Cadastros" icon="ðŸ“" trend="up"
                        trend-value="+15%" trend-label="Ãºltimos 30 dias" />

                    <StatCard variant="warning" :value="42" label="Tickets Abertos" icon="ðŸŽ«" trend="down"
                        trend-value="-5" trend-label="vs. semana anterior" />

                    <StatCard variant="success" value="98.5%" label="Uptime" icon="âœ…"
                        description="Disponibilidade do sistema" />

                    <StatCard variant="info" value="4.8/5" label="SatisfaÃ§Ã£o" icon="â­"
                        description="Baseado em 450 avaliaÃ§Ãµes" />
                </div>
            </template>

            <template #code>
                <CodeBlock :code="`<div style='display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: var(--spacing-lg);'>
  <StatCard 
    variant='primary'
    :value='24567' 
    label='UsuÃ¡rios Totais' 
    icon='ðŸ‘¥'
    trend='up'
    trend-value='+12%'
    trend-label='vs. mÃªs anterior'
  />
  
  <StatCard 
    variant='success'
    value='R$ 145.280' 
    label='Receita' 
    icon='ðŸ’°'
    trend='up'
    trend-value='+8.5%'
  />
  
  <!-- Mais cards... -->
</div>`" />
            </template>
        </ComponentShowcase>

        <!-- BEST PRACTICES -->
        <Card padding="lg" variant="outline">
            <h3 style="margin: 0 0 var(--spacing-md) 0;">ðŸ’¡ Boas PrÃ¡ticas</h3>
            <ul style="margin: 0; padding-left: var(--spacing-lg); color: var(--color-text-secondary);">
                <li>Use <strong>variant</strong> para indicar status (success para mÃ©tricas positivas, error para
                    alertas)
                </li>
                <li>Combine <strong>trend</strong> com variant para reforÃ§ar o significado visual</li>
                <li>Use <strong>description</strong> para adicionar contexto quando o valor precisa de explicaÃ§Ã£o</li>
                <li>Em dashboards, use grid responsivo
                    (<code>grid-template-columns: repeat(auto-fit, minmax(...))</code>)
                </li>
                <li>Mantenha labels curtos e descritivos (2-3 palavras)</li>
                <li>Formate valores grandes com separadores (o componente faz automaticamente para nÃºmeros)</li>
                <li>Use <strong>size="sm"</strong> para dashboards com muitos cards, <strong>lg</strong> para hero stats
                </li>
            </ul>
        </Card>
    </div>
</template>

<script setup lang="ts">
import ComponentShowcase from '@/shared/components/layout/ComponentShowcase.vue'
import CodeBlock from '@/shared/components/layout/CodeBlock.vue'
import StatCard from '@/shared/components/display/StatCard.vue'
import Card from '@/shared/components/display/Card.vue'
import Badge from '@/shared/components/display/Badge.vue'
import Button from '@/shared/components/primitives/Button.vue'
</script>

<style scoped lang="scss">
.stat-card-view {
    display: flex;
    flex-direction: column;
    gap: var(--spacing-2xl);
    padding: var(--spacing-2xl);

    .header {
        h1 {
            margin: 0 0 var(--spacing-sm) 0;
            font-size: 2rem;
            color: var(--color-text-primary);
        }

        .lead {
            margin: 0;
            font-size: 1.125rem;
            color: var(--color-text-secondary);
        }
    }
}
</style>
